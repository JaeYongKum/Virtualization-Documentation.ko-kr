# 가상 컴퓨터 내보내기 및 가져오기

Hyper-V 내보내기 및 가져오기 기능을 사용하여 가상 컴퓨터를 신속하게 복제합니다. 내보낸 가상 컴퓨터는 백업 또는 Hyper-V 호스트 사이에 가상 컴퓨터를 이동하는 방법으로 사용될 수 있습니다.

가져오기로 가상 컴퓨터를 복원할 수 있습니다. 가져오기 위해 가상 컴퓨터를 내보낼 필요는 없습니다. 가져오기는 모든 사용 가능한 가상 컴퓨터의 다시 만들기를 시도합니다. **가상 컴퓨터 가져오기**를 사용하여 마법사 파일의 위치를 지정합니다. 그러면 가상 컴퓨터가 Hyper-V에 등록되어 사용할 수 있게 됩니다.

이 문서는 가상 컴퓨터 내보내기 및 가져오기와 이러한 작업을 수행할 때 만들 수는 선택 사항 중 일부를 안내합니다.

## 가상 컴퓨터 내보내기

### Hyper-V 관리자 사용

가상 컴퓨터의 내보내기를 만들 때 모든 관련된 파일이 내보내기 작업에 제공됩니다. 구성 파일, 하드 드라이브 파일 및 모든 기존 검사점 파일도 포함됩니다. 가상 컴퓨터 내보내기를 만들려면

1. Hyper-V 관리자에서 원하는 가상 컴퓨터를 마우스 오른쪽 단추로 클릭하고 **내보내기**를 선택합니다.

2. 내보낸 파일을 저장할 위치를 지정하고 **내보내기** 단추를 클릭합니다.

**참고:** 시작 또는 중지된 상태에 있는 가상 컴퓨터에서 이 프로세스를 실행할 수 있습니다.

내보내기가 완료되면 내보내기 위치 아래에서 모든 내보낸 파일을 볼 수 있습니다.

### PowerShell 사용

PowerShell을 사용하여 가상 컴퓨터를 내보내려면 **Export-VM** 명령을 사용합니다.

```powershell
Export-VM -Name <vm name> -Path <path>
```

Windows PowerShell을 사용하여 가상 컴퓨터를 내보내는 방법에 대한 자세한 내용은 [Export-VM](https://technet.microsoft.com/library/hh848491.aspx)을 참조하세요.

## 가상 컴퓨터 가져오기

가상 컴퓨터 가져오기는 Hyper-V 호스트를 사용하여 가상 컴퓨터를 등록합니다. 가상 컴퓨터 내보내기를 파생된 위치 또는 새 호스트에서 호스트로 다시 가져올 수 있습니다.

Hyper-V에는 3개의 가져오기 유형이 포함됩니다.

- **바로 등록** - 가상 컴퓨터를 실행할 위치에 내보내기 파일을 배치했습니다. 가져올 때 가상 컴퓨터는 내보내기할 때와 동일한 ID를 가집니다. 이 때문에 Hyper-V를 사용하여 가상 컴퓨터가 이미 등록된 경우 가져오기를 실행하기 전에 삭제해야 합니다. 가져오기가 완료되면 내보내기 파일이 실행 중인 상태 파일이 되고 제거할 수 없습니다.

- **가상 컴퓨터 복원** – VM 파일을 특정 위치에 저장하거나 Hyper-V로 위치 기본값을 사용하는 옵션이 제공됩니다. 이 가져오기 유형은 내보낸 파일의 복사본을 만들고 이를 선택한 위치로 이동시킵니다. 가져올 때 가상 컴퓨터는 내보내기할 때와 동일한 ID를 가집니다. 이 때문에 가상 컴퓨터가 Hyper-V에서 이미 실행 중인 경우 가져오기를 완료하기 전에 삭제해야 합니다. 가져오기가 완료되면 내보낸 파일이 그대로 유지되고 제거되거나 및/또는 다시 가져올 수 있습니다.

- **가상 컴퓨터 복사** - 이 가져오기 형식은 VM 파일에 대한 위치를 선택한 복원 형식과 비슷합니다. 차이점은 가져올 때 가상 컴퓨터가 새 고유 ID를 갖는다는 점입니다. 따라서 가상 컴퓨터를 여러 번 같은 호스트로 가져올 수 있습니다.


### Hyper-V 관리자 사용

Hyper-V 호스트에 가상 컴퓨터를 가져오려면:

1. Hyper-V 관리자의 작업 메뉴에서 **가상 컴퓨터 가져오기**를 클릭합니다.

2. 시작하기 전에 화면에서 **다음**을 클릭합니다.

3. 내보낸 파일을 포함하는 폴더를 선택하고 **다음**을 클릭합니다.

4. 가져올 가상 컴퓨터를 선택합니다. 하나의 옵션만 있을 수 있습니다.

5. 세 가지 옵션 중 하나에서 가져오기 유형을 선택하고 다음을 클릭합니다.

6. 요약 화면에서 **마침**을 선택합니다.

가상 컴퓨터 가져오기 마법사는 가상 컴퓨터를 새 호스트로 가져올 때 발생하는 비호환성 문제를 해결하는 단계도 안내합니다. 따라서 이 마법사는 메모리, 가상 스위치, 가상 프로세서 등의 물리적 하드웨어와 관련된 구성에도 도움이 됩니다.

가상 컴퓨터를 가져오려면 마법사에서 다음을 수행합니다.
1. 가상 컴퓨터 구성 파일의 복사본을 만듭니다. 이 작업은 정전 등으로 인해 호스트가 예기치 않게 다시 시작되는 경우 예방책으로 수행됩니다.

2. 하드웨어의 유효성을 검사합니다. 가상 컴퓨터 구성 파일의 정보를 새 호스트의 하드웨어와 비교합니다.

3. 오류 목록을 컴파일합니다. 이 목록은 다시 구성해야 하는 항목을 식별하고 마법사에서 다음에 표시될 페이지를 결정합니다.

4. 관련 페이지를 한 번에 한 범주씩 표시합니다. 마법사는 각 비호환성에 대해 설명하여 새 호스트와 호환되도록 가상 컴퓨터를 다시 구성하는 데 도움을 줍니다.

5. 구성 파일의 복사본을 제거합니다. 마법사에서 이 작업을 수행한 후 가상 컴퓨터를 시작할 수 있습니다.


### PowerShell 사용

PowerShell을 사용하여 가상 컴퓨터를 가져오려면 **Import-VM** 명령을 사용합니다. 다음 명령은 PowerShell을 사용한 3가지 가져오기 유형의 각 가져오기를 보여 줍니다.

가상 컴퓨터의 바로 가져오기를 완료하려면 명령은 다음과 유사합니다. 바로 가져오기는 가져오기 시 저장된 위치의 파일을 사용하고 가상 컴퓨터 ID를 유지합니다.

```powershell
Import-VM -Path 'C:\<emport path>\2B91FEB3-F1E0-4FFF-B8BE-29CED892A95A.vmcx' 
```

가상 컴퓨터 파일에 대한 고유한 경로를 지정하여 가상 컴퓨터를 가져오려면 명령은 다음과 유사합니다.

```powershell
Import-VM -Path ‘C:\<vm export path>\2B91FEB3-F1E0-4FFF-B8BE-29CED892A95A.vmcx' -Copy -VhdDestinationPath 'D:\Virtual Machines\WIN10DOC' -VirtualMachinePath 'D:\Virtual Machines\WIN10DOC'
```

복사본 가져오기를 완료하고 가상 컴퓨터 파일을 기본 Hyper-V 위치로 이동하려면 명령은 다음과 유사합니다.

``` PowerShell
Import-VM -Path 'C:\<vm export path>\2B91FEB3-F1E0-4FFF-B8BE-29CED892A95A.vmcx' –Copy -GenerateNewId
```

자세한 내용은 [Import-VM](https://technet.microsoft.com/library/hh848495.aspx)을 참조하세요.



